{"is_source_file": true, "format": "Dart", "description": "This file defines the NotesDatabase class, which provides CRUD (Create, Read, Update, Delete) operations for notes persisted in an SQLite database using the sqflite package. It manages note storage, querying, and database lifecycle management.", "external_files": ["package:path/path.dart", "package:sqflite/sqflite.dart", "../models/note.dart"], "external_methods": ["getDatabasesPath()", "openDatabase()", "Database.execute()", "Database.query()", "Database.insert()", "Database.update()", "Database.delete()", "Database.close()", "Note.fromMap()", "Note.toMap()", "Note.copyWith()"], "published": ["NotesDatabase"], "classes": [{"name": "NotesDatabase", "description": "A singleton class providing CRUD operations for notes stored in an SQLite database. It manages database initialization, creation, and versioning, offering methods to create, retrieve, update, delete, and clear notes."}], "methods": [{"name": "initialize", "description": "Initializes the database by opening (or creating) the database file."}, {"name": "_initDb", "description": "Internal method to open the database and create the notes table if it doesn't exist."}, {"name": "create", "description": "Inserts a new note into the database and returns the note with its assigned ID."}, {"name": "getAll", "description": "Retrieves all notes from the database, optionally filtered by a search query."}, {"name": "update", "description": "Updates an existing note in the database."}, {"name": "delete", "description": "Deletes a note by its ID."}, {"name": "clearAll", "description": "Deletes all notes from the database."}, {"name": "_ensureDb", "description": "Private method to verify the database is initialized before performing operations."}, {"name": "close", "description": "Closes the database connection."}], "calls": ["getDatabasesPath()", "openDatabase()", "db.execute()", "db.query()", "db.insert()", "db.update()", "db.delete()", "db.close()", "Note.fromMap()", "Note.toMap()", "Note.copyWith()"], "search-terms": ["NotesDatabase", "CRUD notes", "database initialization", "SQLite notes storage", "Dart database helper", "notes_table", "singleton database"], "state": 2, "file_id": 20, "knowledge_revision": 45, "git_revision": "", "hash": "de621c013fb82e2625abdd3988d06392", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/lib/src/db/notes_database.dart", "revision_history": [{"45": ""}]}